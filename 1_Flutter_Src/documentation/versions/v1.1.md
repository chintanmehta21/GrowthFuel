# GrowthFuel v1.1 - Version Changes & Updates

## Overview
Version 1.1 focused on refining the Home Screen UI/UX with enhanced score card widgets, dropdown time period selectors, and the addition of visual charts for workout and calorie tracking. All changes maintain consistency with the app's design system while improving user experience and data visualization.

---

## Major Changes

### 1. Score Card Widget Enhancement

#### File: `lib/widgets/score_card.dart`

**Changes:**
- **Info Button Added**: Added a small info icon button at the bottom-right corner of each score card
- **Tooltip Functionality**: Implemented long-press tooltip (mobile/web compatible) displaying "How is it calculated?"
- **Stack-based Layout**: Restructured using Stack to ensure info button never disrupts card layout
- **Visual Design Improvements**:
  - Icon now has a semi-transparent background container (20% opacity of icon color)
  - Icon size reduced from 24px to 18px for more compact appearance
  - Title text color changed from beige (#D4C5A8) to grey (#888888) with lighter weight (w400)
  - Title now supports 2-line wrapping without overflow
  - Font sizes adjusted: Title 12px, Score 28px, "pts" label 12px
  - "pts" label color set to #B0A090 for better contrast
- **Card Dimensions**: Fixed height with proper spacing using `mainAxisAlignment: MainAxisAlignment.spaceBetween`
- **Responsive Design**: Uses `Expanded` and `Flexible` widgets to prevent overflow on Android and iOS

**Purpose:**
Users can now understand how their Workout Score and Habit Score are calculated by long-pressing the info icon, improving transparency and user engagement.

---

### 2. Time Period Dropdown Widget

#### File: `lib/widgets/time_period_dropdown.dart` (New)

**Creation:**
- New reusable dropdown widget for selecting time periods (Weekly, Monthly, Custom)
- Compact design with minimal padding (8px horizontal, 4px vertical)
- Dark background (#2C2C2C) matching app theme
- Beige border and text (#D4C5A8) for consistency
- Font size: 12px, weight: w400 for subtle appearance
- `isDense: true` for minimal height
- Arrow icon (18px) for visual clarity

**Features:**
- Long-press/tap friendly on mobile devices
- Dropdown menu with dark background (#2C2C2C)
- Custom styled items with proper spacing

**Purpose:**
Allows users to dynamically switch between different time period views for charts and statistics without leaving the screen.

---

### 3. Section with Dropdown Widget

#### File: `lib/widgets/section_with_dropdown.dart` (New)

**Creation:**
- New wrapper widget combining a section title with a pinned dropdown
- Uses Stack-based layout to ensure dropdown is always positioned at top-right
- Title text automatically wraps to next line if it exceeds the reserved space (80px padding)
- Prevents layout shifts or dropdown displacement based on text length
- Padding added between title and child content (12px top padding on child)

**Structure:**
```
Stack
├── Main Content (Column)
│   ├── Title (with right padding for dropdown)
│   ├── SizedBox (12px)
│   └── Child Widget (Chart)
└── Positioned Dropdown (top-right)
```

**Purpose:**
Ensures consistent dropdown placement across different section titles while maintaining responsive text wrapping and preventing UI misalignment.

---

### 4. Home Screen Refactoring

#### File: `lib/screens/home/home_screen.dart`

**Changes:**

**a) Profile Icon Removal**
- Removed CircleAvatar profile icon from greeting header
- Greeting now displays only user name ("Hello Chintan Mehta,")
- Cleaner, more minimal header design

**b) Score Cards Integration**
- Integrated enhanced ScoreCard widgets for Workout Score and Habit Score
- Both cards now display with:
  - Icon with semi-transparent background
  - Grey title text (non-bold)
  - Large score in beige
  - Info button for calculation explanation
  - Equal heights and sizes for visual consistency

**c) Workout Counts Section**
- Wrapped with `SectionWithDropdown` widget
- Added BarChart visualization using fl_chart package
- Chart displays 7 bars (Mon-Sun) with beige color (#D4C5A8)
- Bars have rounded top corners (4px radius)
- Custom day labels below bars
- No grid or border for clean appearance
- 200px height container with dark background (#2C2C2C)
- 16px padding inside chart container
- 12px top padding between title and chart

**d) Calories Burned Section**
- Wrapped with `SectionWithDropdown` widget
- Added LineChart visualization using fl_chart package
- Line chart shows 7-day calorie trend with smooth curve
- Area fill below line with 10% opacity for visual depth
- Custom day labels at bottom
- 200px height container with dark background
- Same styling consistency as Workout Counts chart

**e) Dropdown Integration**
- Both "Workout Counts" and "Calories Burned" sections include time period dropdowns
- Dropdowns positioned at top-right, never interfering with section titles
- Default selection: "Weekly"
- Callback handlers ready for future time period logic implementation

**Imports Added:**
- `import 'package:fl_chart/fl_chart.dart';` for chart widgets

**Purpose:**
Home screen now provides comprehensive at-a-glance fitness tracking with visual charts, score cards with explanations, and flexible time period selection.

---

### 5. Layout & Spacing Improvements

**Spacing Adjustments:**
- 20px SizedBox between major sections (Workout Counts and Calories Burned)
- 12px padding above charts to create visual separation from titles
- Consistent 14px padding for all card content

**Visual Hierarchy:**
- Section titles: 16px, w600 (bold)
- Dropdown text: 12px, w400 (subtle)
- Chart labels: 12px, #B0A090 (secondary color)

---

## UI/UX Improvements

### Color Consistency
- Maintained beige (#D4C5A8) as primary accent
- Used orange (#E85D04) for interactive icons (where applicable)
- Grey (#888888) for secondary text
- Dark backgrounds (#2C2C2C, #1E1E1E) for contrast

### Responsive Design
- All layouts tested on Android and iOS
- Fixed height containers prevent overflow
- Flexible and Expanded widgets handle variable content
- Text wrapping with proper ellipsis handling

### Interactivity
- Long-press tooltips for info buttons
- Dropdown selections for time period changes
- Smooth chart visualizations
- Hover effects on info button (web)

---

## Technical Improvements

### Code Organization
- Created reusable widgets (TimePeriodDropdown, SectionWithDropdown)
- Separated concerns: widgets, screens, services remain modular
- Stack-based layouts for complex positioning requirements

### Widget Hierarchy
- Improved use of Stack for overlapping elements
- Better use of Positioned for fixed layouts
- Flexible/Expanded for responsive sizing

### Performance
- Charts use `barTouchData: BarTouchData(enabled: false)` to reduce overhead
- No unnecessary rebuilds with proper StatelessWidget usage
- Efficient color and styling with opacity instead of duplicate colors

---

## Files Modified

1. **lib/widgets/score_card.dart** - Enhanced with info button, improved styling
2. **lib/screens/home/home_screen.dart** - Added charts, integrated dropdowns, removed profile icon
3. **0_Misc_Docs/task.md** - Updated status for Project Setup and Authentication & Onboarding sections

## Files Created

1. **lib/widgets/time_period_dropdown.dart** - New dropdown widget
2. **lib/widgets/section_with_dropdown.dart** - New section wrapper widget
3. **1_Flutter_Src/documentation/versions/v1.1.md** - This file

---

## Known Issues & Limitations

None currently. All features working as expected on Android, iOS, and Web.

---

## Next Steps for v1.2

1. **Connect to Supabase**: Implement data fetching for score cards and charts from Supabase
2. **Dynamic Time Period Logic**: Implement actual data filtering based on selected time period (Weekly/Monthly/Custom)
3. **Real-time Updates**: Add Supabase real-time subscriptions for live score updates
4. **Bottom Navigation**: Implement fully functional bottom navigation with all 5 tabs
5. **Exercise Tab Development**: Build exercise logging interface
6. **Habits Tab Development**: Build habit tracking interface
7. **History Tab Development**: Build daily/weekly/monthly history views
8. **Profile Tab Development**: Build user profile and settings

---

## Testing Checklist (v1.1)

- [x] Score cards display with correct styling
- [x] Info button appears and responds to long-press
- [x] Info tooltip displays correct text
- [x] Workout Counts chart displays with proper bars
- [x] Calories Burned chart displays with proper line
- [x] Time period dropdowns are accessible and functional
- [x] Dropdowns positioned consistently
- [x] No text overflow issues on varying screen sizes
- [x] Padding and spacing matches design specifications
- [x] Colors match design system (#D4C5A8, #B0A090, #888888)
- [x] Responsive layout on Android and iOS

---

## Summary

Version 1.1 successfully enhances the Home Screen with professional-grade UI components, comprehensive data visualization, and improved user experience. The addition of info tooltips, flexible time period selection, and visually appealing charts makes GrowthFuel more engaging and informative for users tracking their fitness journey.

All changes maintain backward compatibility and follow the established design system, ensuring consistency across the app. The codebase is now better organized with reusable widgets ready for future expansion.
